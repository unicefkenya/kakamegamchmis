@using Newtonsoft.Json
@model MCHMIS.Areas.Reports.ViewModels.VarianceReportViewModel


@if (Model.Details != null)
{
    <table id="table-filter" class="table table-striped table-striped-header-only table-bordered">
        <thead>
            <tr>
                <th>Unique ID</th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.Mother.FirstName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.Mother.MiddleName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.Mother.Surname)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.CommonName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.Mother.IdNumber)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.HealthFacilityId)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.Household.Phone)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.EDD)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.Village.Ward.SubCountyId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.Village.WardId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.Village.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Household.CommunityArea.Name)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.Household.PMTScore)
                </th>
                <th>
                    CV PMT Score
                </th>
                <th>
                    Variance
                </th>
                <th>
                    Variance Category
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Details)
            {
                <tr class="@Html.DisplayFor(modelItem => item.VarianceCategory.Code)">
                    <td> @Html.DisplayFor(modelItem => item.Household.UniqueId)</td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.Mother.FirstName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.Mother.MiddleName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.Mother.Surname)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.CommonName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.Mother.IdNumber)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.HealthFacility.Name)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.Household.Phone)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.EDD)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.Village.Ward.SubCounty.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.Village.Ward.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.Village.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Household.CommunityArea.Name)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.Household.PMTScore)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.CVHouseHold.PMTScore)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Variance)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.VarianceCategory.Code)
                    </td>
                </tr>
            }

            @if (!Model.Details.Any())
            {
                <tr>
                    <td colspan="9" class="dataTables_empty">No Data found</td>
                </tr>
            }
        </tbody>
        @if (Model.Details.Any())
        {
            <tfoot>
                <tr>
                    <td colspan="16"><strong>Total</strong></td>
                    <td><strong>@Model.Details.Count</strong> </td>
                </tr>
            </tfoot>

        }
    </table>

}
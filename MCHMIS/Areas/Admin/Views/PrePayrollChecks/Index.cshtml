@model MCHMIS.ViewModels.PrePayrollListViewModel
@{
    ViewBag.Title = "Pre-Payroll Checks";
}

@section buttons
    {
    <a class="btn btn-primary lnk-modal" asp-action="Generate">Generate Pre-Payroll Checks</a>
}

<form asp-action="Create">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <div class="col-md-3 form-group">
        <label asp-for="PaymentCycleId" class="control-label"></label>
        <select asp-for="PaymentCycleId" class="form-control" asp-items="ViewBag.PaymentCycleId"></select>
    </div>

    <div class="col-md-2">
        <button type="submit" class="btn btn-success pull-left btn-filter inline">
            <i class="glyphicon glyphicon-search"></i> Search
        </button>
    </div>
</form>
<hr />
<table id="table-only" class="table table-striped table-bordered">
    <thead>
        <tr>
            <th> Date Created</th>
            <th>Payment Cycle</th>
            <th>Unusual Amounts</th>
            <th>Change of Recipient Details</th>
            <th>Duplicate Recipient Phone Numbers</th>
            <th>Duplicate National Ids</th>
            <th>Phone Number Issues</th>
            <th>Date Generated</th>
            <th>Generated By</th>
            <th>Date Approved</th>
            <th>ApprovedBy</th>
            <th>Notes</th>
            <th>Status</th>
            <th>Summary</th>
            <th>View</th>
    </thead>
    <tbody>
        @foreach (var item in Model.PrePayrollChecks)
        {
            <tr>
                <td>@item.DateCreated.ToString("dd-MM-yyyy")</td>
                <td>@item.PaymentCycle.Name</td>
                <td>
                    @Html.DisplayFor(modelItem => item.UnusualAmounts)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.RecipientChange)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DuplicatePhoneNumbers)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DuplicateIds)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PhoneNumberIssues)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateCreated)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CreatedBy.DisplayName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DateApproved)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ApprovedBy.DisplayName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Notes)
                </td>
                <td>@item.Status.Name</td>
                <td class="fit text-center">
                    @Html.ActionLink(" ", "Summary", new { id = item.Id }, new { @class = "fa fa-eye" })
                </td>
                <td class="fit  text-center">
                    @Html.ActionLink(" ", "UnusualAmounts", new { id = item.Id }, new { @class = "fa fa-eye" })
                </td>
            </tr>
        }
    </tbody>
</table>
@model MCHMIS.ViewModels.EnrolmentListDetailsViewModel

@{
    ViewData["Title"] = "Enrolment List Details";
}
@section buttons
    {
    @if (Model.Enrolment.ImportStatusId == null)
    {
        if (Model.Enrolment.StatusId == 1)
        {
            <a class="btn btn-primary modal-link" asp-action="SendForApproval" asp-route-option="generate" asp-route-id="@Model.Id">
                <span><i class="glyphicon glyphicon-ok-sign"></i> Send for Approval</span>
            </a>
        }
        else if (Model.Enrolment.StatusId == 2)
        {
            <a class="btn btn-primary modal-link" asp-action="Action" asp-route-option="generate" asp-route-id="@Model.Id">
                <span><i class="glyphicon glyphicon-ok-sign"></i> Approvals</span>
            </a>
        }

        else if (Model.Enrolment.StatusId == 3)
        {
            <a class="btn btn-primary" asp-action="Import" asp-route-id="@Model.Id">
                <i class="fa fa-upload" aria-hidden="true"></i> Import
            </a>
            <a class="btn btn-primary" asp-action="Export" asp-route-id="@Model.Id">
                <i class="fa fa-file-excel-o" aria-hidden="true"></i> Download
            </a>

        }
    }
    @if (Model.Enrolment.ImportStatusId == 1)
    {
        <a class="btn btn-primary modal-link" asp-action="SendForApproval" asp-route-option="import" asp-route-id="@Model.Id">
            <span><i class="glyphicon glyphicon-ok-sign"></i> Send for Approval</span>
        </a>
    }
    else if (Model.Enrolment.ImportStatusId == 2)
    {
        <a class="btn btn-primary modal-link" asp-action="Action" asp-route-option="import" asp-route-id="@Model.Id">
            <span><i class="glyphicon glyphicon-ok-sign"></i> Approvals</span>
        </a>
    }
}
<table class="table table-striped table-bordered">
    <thead>
        <tr>

            <th>
                @Html.DisplayNameFor(model => model.EnrolmentDetail.Household.UniqueId)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.EnrolmentDetail.RecipientPhone)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EnrolmentDetail.RecipientNames)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EnrolmentDetail.CustomerName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EnrolmentDetail.CustomerType)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.EnrolmentDetail.Status)
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.EnrolmentDetails)
        {
            <tr class="@Html.DisplayFor(modelItem => item.Status.Name)">

                <td>
                    @Html.DisplayFor(modelItem => item.Household.UniqueId)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.RecipientPhone)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.RecipientNames)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CustomerName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CustomerType)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Status.Name)
                </td>
            </tr>
        }
    </tbody>
</table>
<a asp-action="Lists" class="btn btn-danger glyphicon glyphicon-step-backward pull-left"> Back</a>